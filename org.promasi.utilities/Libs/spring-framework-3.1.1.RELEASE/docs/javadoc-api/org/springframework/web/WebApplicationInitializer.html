<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_27) on Thu Feb 16 14:29:45 PST 2012 -->
<TITLE>
WebApplicationInitializer
</TITLE>

<META NAME="date" CONTENT="2012-02-16">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../spring-javadoc.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="WebApplicationInitializer";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<!-- Begin Google Analytics code --> <script type="text/javascript"> var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www."); document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E")); </script> <script type="text/javascript"> var pageTracker = _gat._getTracker("UA-2728886-3"); pageTracker._setDomainName("none"); pageTracker._setAllowLinker(true); pageTracker._trackPageview(); </script> <!-- End Google Analytics code --></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/springframework/web/SpringServletContainerInitializer.html" title="class in org.springframework.web"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/springframework/web/WebApplicationInitializer.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="WebApplicationInitializer.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.springframework.web</FONT>
<BR>
Interface WebApplicationInitializer</H2>
<HR>
<DL>
<DT><PRE>public interface <B>WebApplicationInitializer</B></DL>
</PRE>

<P>
Interface to be implemented in Servlet 3.0+ environments in order to configure the
 <A HREF="http://download.oracle.com/javaee/6/api/javax/servlet/ServletContext.html?is-external=true" title="class or interface in javax.servlet"><CODE>ServletContext</CODE></A> programmatically -- as opposed to (or possibly in conjunction
 with) the traditional <code>web.xml</code>-based approach.

 <p>Implementations of this SPI will be detected automatically by <A HREF="../../../org/springframework/web/SpringServletContainerInitializer.html" title="class in org.springframework.web"><CODE>SpringServletContainerInitializer</CODE></A>, which itself is bootstrapped automatically
 by any Servlet 3.0 container. See <A HREF="../../../org/springframework/web/SpringServletContainerInitializer.html" title="class in org.springframework.web">its
 Javadoc</A> for details on this bootstrapping mechanism.

 <h2>Example</h2>
 <h3>The traditional, XML-based approach</h3>
 Most Spring users building a web application will need to register Spring's <code>DispatcherServlet</code>. For reference, in WEB-INF/web.xml, this would typically be done as
 follows:
 <pre class="code">
 <code>&lt;servlet&gt;
   &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;
   &lt;servlet-class&gt;
     org.springframework.web.servlet.DispatcherServlet
   &lt;/servlet-class&gt;
   &lt;init-param&gt;
     &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
     &lt;param-value&gt;/WEB-INF/spring/dispatcher-config.xml&lt;/param-value&gt;
   &lt;/init-param&gt;
   &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
 &lt;/servlet&gt;

 &lt;servlet-mapping&gt;
   &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;
   &lt;url-pattern&gt;/&lt;/url-pattern&gt;
 &lt;/servlet-mapping&gt;</code></pre>

 <h3>The code-based approach with <code>WebApplicationInitializer</code></h3>
 Here is the equivalent <code>DispatcherServlet</code> registration logic,
 <code>WebApplicationInitializer</code>-style:
 <pre class="code">
 public class MyWebAppInitializer implements WebApplicationInitializer {

    &#064;Override
    public void onStartup(ServletContext container) {
      XmlWebApplicationContext appContext = new XmlWebApplicationContext();
      appContext.setConfigLocation("/WEB-INF/spring/dispatcher-config.xml");

      ServletRegistration.Dynamic dispatcher =
        container.addServlet("dispatcher", new DispatcherServlet(appContext));
      dispatcher.setLoadOnStartup(1);
      dispatcher.addMapping("/");
    }

 }</pre>

 As you can see, thanks to Servlet 3.0's new <CODE>ServletContext#addServlet</CODE> method
 we're actually registering an <em>instance</em> of the <code>DispatcherServlet</code>, and
 this means that the <code>DispatcherServlet</code> can now be treated like any other object
 -- receiving constructor injection of its application context in this case.

 <p>This style is both simpler and more concise. There is no concern for dealing with
 init-params, etc, just normal JavaBean-style properties and constructor arguments. You
 are free to create and work with your Spring application contexts as necessary before
 injecting them into the <code>DispatcherServlet</code>.

 <p>Most major Spring Web componentry has been updated to support this style of
 registration.  You'll find that <code>DispatcherServlet</code>, <code>FrameworkServlet</code>,
 <code>ContextLoaderListener</code> and <code>DelegatingFilterProxy</code> all now support
 constructor arguments. Even if a component (e.g. non-Spring, other third party) has not
 been specifically updated for use within <code>WebApplicationInitializers</code>, they still
 may be used in any case. The Servlet 3.0 <code>ServletContext</code> API allows for setting
 init-params, context-params, etc programmatically.

 <h2>A 100% code-based approach to configuration</h2>
 In the example above, <code>WEB-INF/web.xml</code> was successfully replaced with code in
 the form of a <code>WebApplicationInitializer</code>, but the actual
 <code>dispatcher-config.xml</code> Spring configuration remained XML-based.
 <code>WebApplicationInitializer</code> is a perfect fit for use with Spring's code-based
 <code>@Configuration</code> classes. See @<A HREF="../../../org/springframework/context/annotation/Configuration.html" title="annotation in org.springframework.context.annotation"><CODE>Configuration</CODE></A> Javadoc for
 complete details, but the following example demonstrates refactoring to use Spring's
 <A HREF="../../../org/springframework/web/context/support/AnnotationConfigWebApplicationContext.html" title="class in org.springframework.web.context.support"><CODE>AnnotationConfigWebApplicationContext</CODE></A> in lieu of <code>XmlWebApplicationContext</code>, and
 user-defined <code>@Configuration</code> classes <code>AppConfig</code> and
 <code>DispatcherConfig</code> instead of Spring XML files. This example also goes a bit
 beyond those above to demonstrate typical configuration of the 'root' application
 context and registration of the <code>ContextLoaderListener</code>:
 <pre class="code">
 public class MyWebAppInitializer implements WebApplicationInitializer {

    &#064;Override
    public void onStartup(ServletContext container) {
      // Create the 'root' Spring application context
      AnnotationConfigWebApplicationContext rootContext =
        new AnnotationConfigWebApplicationContext();
      rootContext.register(AppConfig.class);

      // Manage the lifecycle of the root application context
      container.addListener(new ContextLoaderListener(rootContext));

      // Create the dispatcher servlet's Spring application context
      AnnotationConfigWebApplicationContext dispatcherContext =
        new AnnotationConfigWebApplicationContext();
      dispatcherContext.register(DispatcherConfig.class);

      // Register and map the dispatcher servlet
      ServletRegistration.Dynamic dispatcher =
        container.addServlet("dispatcher", new DispatcherServlet(dispatcherContext));
      dispatcher.setLoadOnStartup(1);
      dispatcher.addMapping("/");
    }

 }</pre>

 Remember that <code>WebApplicationInitializer</code> implementations are <em>detected
 automatically</em> -- so you are free to package them within your application as you
 see fit.

 <h2>Ordering <code>WebApplicationInitializer</code> execution</h2>
 <code>WebApplicationInitializer</code> implementations may optionally be annotated at the
 class level with Spring's @<A HREF="../../../org/springframework/core/annotation/Order.html" title="annotation in org.springframework.core.annotation"><CODE>Order</CODE></A>
 annotation or may implement Spring's <A HREF="../../../org/springframework/core/Ordered.html" title="interface in org.springframework.core"><CODE>Ordered</CODE></A>
 interface. If so, the initializers will be ordered prior to invocation. This provides
 a mechanism for users to ensure the order in which servlet container initialization
 occurs. Use of this feature is expected to be rare, as typical applications will likely
 centralize all container initialization within a single <code>WebApplicationInitializer</code>.

 <h2>Caveats</h2>

 <h3>web.xml versioning</h3>
 <p><code>WEB-INF/web.xml</code> and <code>WebApplicationInitializer</code> use are not mutually
 exclusive; for example, web.xml can register one servlet, and a <code>WebApplicationInitializer</code> can register another. An initializer can even
 <em>modify</em> registrations performed in <code>web.xml</code> through methods such as
 <CODE>ServletContext#getServletRegistration(String)</CODE>. <strong>However, if
 <code>WEB-INF/web.xml</code> is present in the application, its <code>version</code> attribute
 must be set to "3.0" or greater, otherwise <code>ServletContainerInitializer</code>
 bootstrapping will be ignored by the servlet container.</strong>

 <h3>Mapping to '/' under Tomcat</h3>
 <p>Apache Tomcat maps its internal <code>DefaultServlet</code> to "/", and on Tomcat versions
 &lt;= 7.0.14, this servlet mapping <em>cannot be overridden programmatically</em>.
 7.0.15 fixes this issue. Overriding the "/" servlet mapping has also been tested
 successfully under GlassFish 3.1.<p>
<P>

<P>
<DL>
<DT><B>Since:</B></DT>
  <DD>3.1</DD>
<DT><B>Author:</B></DT>
  <DD>Chris Beams</DD>
<DT><B>See Also:</B><DD><A HREF="../../../org/springframework/web/SpringServletContainerInitializer.html" title="class in org.springframework.web"><CODE>SpringServletContainerInitializer</CODE></A></DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/springframework/web/WebApplicationInitializer.html#onStartup(javax.servlet.ServletContext)">onStartup</A></B>(<A HREF="http://download.oracle.com/javaee/6/api/javax/servlet/ServletContext.html?is-external=true" title="class or interface in javax.servlet">ServletContext</A>&nbsp;servletContext)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Configure the given <A HREF="http://download.oracle.com/javaee/6/api/javax/servlet/ServletContext.html?is-external=true" title="class or interface in javax.servlet"><CODE>ServletContext</CODE></A> with any servlets, filters, listeners
 context-params and attributes necessary for initializing this web application.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="onStartup(javax.servlet.ServletContext)"><!-- --></A><H3>
onStartup</H3>
<PRE>
void <B>onStartup</B>(<A HREF="http://download.oracle.com/javaee/6/api/javax/servlet/ServletContext.html?is-external=true" title="class or interface in javax.servlet">ServletContext</A>&nbsp;servletContext)
               throws <A HREF="http://download.oracle.com/javaee/6/api/javax/servlet/ServletException.html?is-external=true" title="class or interface in javax.servlet">ServletException</A></PRE>
<DL>
<DD>Configure the given <A HREF="http://download.oracle.com/javaee/6/api/javax/servlet/ServletContext.html?is-external=true" title="class or interface in javax.servlet"><CODE>ServletContext</CODE></A> with any servlets, filters, listeners
 context-params and attributes necessary for initializing this web application. See
 examples <A HREF="../../../org/springframework/web/WebApplicationInitializer.html" title="interface in org.springframework.web">above</A>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>servletContext</CODE> - the <code>ServletContext</code> to initialize
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javaee/6/api/javax/servlet/ServletException.html?is-external=true" title="class or interface in javax.servlet">ServletException</A></CODE> - if any call against the given <code>ServletContext</code>
 throws a <code>ServletException</code></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<!-- Begin Google Analytics code --> <script type="text/javascript"> var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www."); document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E")); </script> <script type="text/javascript"> var pageTracker = _gat._getTracker("UA-2728886-3"); pageTracker._setDomainName("none"); pageTracker._setAllowLinker(true); pageTracker._trackPageview(); </script> <!-- End Google Analytics code --></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/springframework/web/SpringServletContainerInitializer.html" title="class in org.springframework.web"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/springframework/web/WebApplicationInitializer.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="WebApplicationInitializer.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
